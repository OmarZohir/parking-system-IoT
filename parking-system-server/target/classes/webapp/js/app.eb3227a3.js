(function(t){function e(e){for(var a,r,o=e[0],l=e[1],c=e[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&m.push(n[r][0]),n[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,o=1;o<s.length;o++){var l=s[o];0!==n[l]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},n={app:0},i=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},13:function(t,e){},14:function(t,e){},2:function(t,e){},2681:function(t,e,s){"use strict";s("c236")},3:function(t,e){},4:function(t,e){},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=i(t);return s(e)}function i(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=i,t.exports=n,n.id="4678"},5:function(t,e){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view"),s("transition",{attrs:{name:"slide-fade"}},[t.modal.show?s("div",{staticClass:"fixed inset-0 flex items-end justify-center px-4 py-6 pointer-events-none sm:p-6 sm:items-start sm:justify-end"},[s("div",{staticClass:"max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden"},[s("div",{staticClass:"p-4"},[s("div",{staticClass:"flex items-start"},[s("div",{staticClass:"flex-shrink-0"},["success"===t.modal.type?s("svg",{staticClass:"h-6 w-6 text-green-400",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}})]):t._e(),"error"===t.modal.type?s("svg",{staticClass:"h-6 w-6 text-red-400",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}})]):t._e()]),s("div",{staticClass:"ml-3 w-0 flex-1 pt-0.5"},[s("p",{staticClass:"text-sm font-medium text-gray-900"},[t._v(" "+t._s(t.modal.title)+" ")]),s("p",{staticClass:"mt-1 text-sm text-gray-500"},[t._v(" "+t._s(t.modal.content)+" ")])]),s("div",{staticClass:"ml-4 flex-shrink-0 flex"},[s("button",{staticClass:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",on:{click:function(e){return t._closeModal()}}},[s("span",{staticClass:"sr-only"},[t._v("Close")]),s("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"}})])])])])])])]):t._e()])],1)},i=[],r=s("5530"),o=s("2f62"),l={name:"App",components:{},computed:Object(r["a"])({},Object(o["d"])({modal:function(t){return t.modal.modal}})),methods:Object(r["a"])(Object(r["a"])({},Object(o["b"])("modal",["_closeModal"])),Object(o["b"])("events",["_startServer"])),mounted:function(){this._startServer()}},c=l,d=s("2877"),u=Object(d["a"])(c,n,i,!1,null,null,null),m=u.exports,f=(s("45fc"),s("8c4f")),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("div",{staticClass:"flex justify-center items-center min-h-screen p-4 text-center bg-gray-100"},[s("div",{staticClass:"bg-blue-500 h-2/5 w-full fixed top-0"}),s("div",{staticClass:"inline-block bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm sm:w-full sm:p-6",attrs:{role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"}},[s("form",{on:{submit:function(e){return t.login(t.cred)}}},[t._m(0),s("label",{staticClass:"block text-gray-600 text-uppercase text-sm font-bold mb-2",attrs:{for:"email"}},[t._v(" Email address ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.cred.username,expression:"cred.username"}],staticClass:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-4 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500 mb-4",attrs:{type:"text",id:"email",placeholder:"Email address"},domProps:{value:t.cred.username},on:{input:function(e){e.target.composing||t.$set(t.cred,"username",e.target.value)}}}),s("label",{staticClass:"block text-gray-600 text-uppercase text-sm font-bold mb-2",attrs:{for:"password"}},[t._v(" Password ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.cred.password,expression:"cred.password"}],staticClass:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-4 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500 mb-4",attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:t.cred.password},on:{input:function(e){e.target.composing||t.$set(t.cred,"password",e.target.value)}}}),s("btn",{staticClass:"w-full",attrs:{disabled:t.loading},nativeOn:{click:function(e){return t.login(t.cred)}}},[t._v("Sign in")]),s("router-link",{staticClass:"text-center mt-6 text-blue-500",attrs:{to:"/register"}},[s("a",[t._v("No account yet?")])])],1)])])])},g=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",{staticClass:"text-xl font-black font-gray-700 mb-10 mt-2 text-center"},[t._v("Sign in to "),s("span",{staticClass:"text-blue-600"},[t._v("Park")])])}],v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"inline-block items-center px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",attrs:{type:"button"}},[t._t("default")],2)},b=[],h={name:"Btn"},x=h,_=Object(d["a"])(x,v,b,!1,null,"5ae63fa7",null),w=_.exports,y={name:"Login",components:{Btn:w},props:[],data:function(){return{cred:{username:"",password:""},loading:!1}},methods:Object(r["a"])(Object(r["a"])({},Object(o["b"])("auth",["_login"])),{},{login:function(t){var e=this;this.loading=!0,this._login(t).then((function(t){e.loading=!1,"ADMIN"===t.role?e.$router.push("/admin"):e.$router.push("/")})).catch((function(){e.loading=!1}))}})},C=y,k=Object(d["a"])(C,p,g,!1,null,"5b91fc54",null),j=k.exports,O=(s("d3b7"),s("ac1f"),s("3ca3"),s("5319"),s("ddb0"),s("bc3a")),R=s.n(O),E="http://localhost:8082/api",P=R.a.create({baseURL:E});P.interceptors.response.use((function(t){return t}),(function(t){var e=t.response.status;return 401===e&&tt.dispatch("auth/_logout").then(),Promise.reject(t)}));var S=P,M=(s("25f0"),s("3452")),$=function(t){return M["AES"].decrypt(t,"otsI2tRrmhGlDMk").toString(M["enc"].Utf8)},I=function(t){return M["AES"].encrypt(t,"otsI2tRrmhGlDMk").toString()},L={user:null,token:null,loading:{loggingIn:!1,resettingPassword:!1}},N={},z={_loggedIn:function(t){var e=t.commit,s=t.dispatch;return new Promise((function(t,a){if(null!==L.token)t();else{var n=localStorage.getItem("access_token");if(null!==n){var i=$(n);s("_init",i).then(t).catch(a)}else e("_setToken",!1),a()}}))},_fetchAccessToken:function(t){var e=t.dispatch;return new Promise((function(t,s){var a=localStorage.getItem("refresh_token");if(null!==a){var n=$(a),i={grant_type:"refresh_token",client_id:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_CLIENTID,client_secret:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_CLIENTSECRET,refresh_token:n};S.post("/oauth/v2/token",i).then((function(a){console.log(a);var n=I(a.data.refresh_token),i=I(a.data.access_token);localStorage.setItem("refresh_token",n),localStorage.setItem("access_token",i),e("_init",a.data.access_token).then(t).catch(s)})).catch((function(t){s(t)}))}else s()}))},_login:function(t,e){var s=t.dispatch,a=t.state;return console.log(e),new Promise((function(t,n){S.post("/auth/login",e).then((function(e){console.log(e);var i=e.data,r=I(i.token);localStorage.setItem("access_token",r),s("_init",i.token).then((function(){t(a.user)})).catch(n)})).catch((function(t){console.log(t),n(t.response.data)}))}))},_register:function(t,e){var s=t.dispatch;return new Promise((function(t,a){S.post("/auth/register",e).then((function(e){var n=I(e.data.token);localStorage.setItem("access_token",n),s("_init",e.data.token).then((function(){t(e.data)})).catch(a)})).catch((function(t){console.log(t),a(t.response.data)}))}))},_resetPassword:function(t,e){var s=t.commit;return new Promise((function(t,a){s("_updateLoading",{loggingIn:!0});var n={username:e};S.post("/reset",n).then((function(e){204===e.status&&t(e.data)})).catch((function(t){a(t.response.data)}))}))},_logout:function(t){var e=t.commit;return new Promise((function(t){localStorage.removeItem("refresh_token"),localStorage.removeItem("access_token"),e("_setUser",null),e("_setToken",!1),Vt.replace("/login"),t(!0)}))},_getUser:function(t){var e=t.commit,s=t.state,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise((function(t,n){null===s.user||a?S.get("http://localhost:8082/api/auth/me").then((function(s){var a=s.data;e("_setUser",a),t(a)})).catch((function(t){console.log(t),n(t.response.data)})):t(s.user)}))},_init:function(t,e){var s=t.commit,a=t.dispatch;console.log("Initializing",e),S.defaults.headers.common["Accept"]="application/json",S.defaults.headers.common["Authorization"]=e,s("_setToken",e);var n=[a("_getUser")];return Promise.all(n)}},A={_setUser:function(t,e){t.user=e},_setToken:function(t,e){t.token=e},_updateLoading:function(t,e){t.loading=Object(r["a"])(Object(r["a"])({},t.loading),e)}},U={namespaced:!0,state:L,getters:N,actions:z,mutations:A},B=(s("4de4"),s("7db0"),s("c975"),s("d81d"),s("a434"),{reservations:[],spots:[],entries:[],loading:{spots:!1,reservations:!1,entries:!1,rate:!1,makeReservation:!1,deleteReservation:!1}}),D={availableSpots:function(t){return t.spots.filter((function(t){return"Free"===t.state}))}},T={_getParkingSpots:function(t){var e=t.commit;return new Promise((function(t,s){e("_updateLoading",{spots:!0}),S.get("/spots").then((function(t){console.log(t),e("_setSpots",t.data),e("_updateLoading",{spots:!1})})).catch((function(t){s(),e("_updateLoading",{spots:!1}),console.error(t)}))}))},_getReservations:function(t){var e=t.commit;return new Promise((function(t,s){e("_updateLoading",{reservations:!0}),S.get("/reservations").then((function(t){e("_setReservations",t.data),e("_updateLoading",{reservations:!1})})).catch((function(t){e("_updateLoading",{reservations:!1}),s(),console.error(t)}))}))},_deleteReservation:function(t,e){var s=t.commit,a=t.dispatch;return new Promise((function(t,n){s("_updateLoading",{deleteReservation:!0}),s("_deleteReservation",e.id),S.delete("/reservations/"+e.id).then((function(e){s("_updateLoading",{deleteReservation:!1}),a("modal/_showModal",{title:"Reservation is deleted",content:""},{root:!0}),t(e.data)})).catch((function(t){var e="Unknown error";t.response&&(e=t.response.data.message),a("modal/_showModal",{title:"Error when deleting reservation",content:e,type:"error"},{root:!0}),s("_updateLoading",{deleteReservation:!1}),n()}))}))},_makeReservation:function(t,e){var s=t.commit,a=t.dispatch;return new Promise((function(t,n){s("_updateLoading",{reservations:!0}),S.post("/reservations",e).then((function(e){s("_updateLoading",{reservations:!1}),a("modal/_showModal",{title:"Reservation is made",content:""},{root:!0}),t(e.data)})).catch((function(t){var e="Unknown error";t.response&&(e=t.response.data.cause1),a("modal/_showModal",{title:"Error when making reservation",content:e,type:"error"},{root:!0}),s("_updateLoading",{reservations:!1}),n()}))}))},_getEntries:function(t){var e=t.commit;return new Promise((function(t,s){e("_updateLoading",{entries:!0}),S.get("/reservations/entries").then((function(t){e("_setEntries",t.data),e("_updateLoading",{entries:!1})})).catch((function(t){e("_updateLoading",{entries:!1}),s(),console.error(t)}))}))},_updateRate:function(t,e){var s=t.commit,a=t.dispatch;return new Promise((function(t,n){s("_updateLoading",{rate:!0}),s("_updateSpot",e);var i={spotId:e.id,pricePerMinute:e.rate};S.post("/reservations/rate",i).then((function(){a("modal/_showModal",{title:"Rate is updated",content:""},{root:!0}),s("_updateLoading",{rate:!1})})).catch((function(t){s("_updateLoading",{rate:!1}),a("modal/_showModal",{title:"Error when updating rate",type:"error"},{root:!0}),n(),console.error(t)}))}))}},F={_setSpots:function(t,e){console.log(e),t.spots=e},_addSpot:function(t,e){t.spots.push(e)},_updateSpot:function(t,e){var s=t.spots.find((function(t){return t.endpoint===e.endpoint}));s&&Object.assign(s,e)},_removeSpot:function(t,e){var s=t.spots.map((function(t){return t.id})).indexOf(e.id);-1!==s&&t.spots.splice(s,1)},_setReservations:function(t,e){t.reservations=e},_deleteReservation:function(t,e){var s=t.reservations.map((function(t){return t.id})).indexOf(e);-1!==s&&t.reservations.splice(s,1)},_updateReservation:function(t,e){var s=t.reservations.find((function(t){return t.id===e.id}));s&&Object.assign(s,e)},_setEntries:function(t,e){t.entries=e},_updateEntry:function(t,e){console.log("Updating entry",e);var s=t.entries.find((function(t){return t.id===e.id}));console.log(s),s&&Object.assign(s,e)},_addEntry:function(t,e){t.entries.push(e)},_updateLoading:function(t,e){t.loading=Object(r["a"])(Object(r["a"])({},t.loading),e)}},H={namespaced:!0,state:B,getters:D,actions:T,mutations:F},q={server:null},W={},J={_startServer:function(t){var e=t.commit;return new Promise((function(t,s){a["a"].SSE(E+"/events",{format:"json"}).then((function(s){e("_setServer",s),s.onError((function(t){console.error("lost connection; giving up!",t)})),s.subscribe("",(function(t,e){console.warn("Received a message w/o an event!",e),console.warn("Received a message w/o an event!",t)})),s.subscribe("spot_added",(function(t){e("parking/_addSpot",t,{root:!0})})),s.subscribe("spot_updated",(function(t){e("parking/_updateSpot",t,{root:!0})})),s.subscribe("spot_removed",(function(t){e("parking/_removeSpot",t,{root:!0})})),s.subscribe("reservation_updated",(function(t){e("parking/_updateReservation",t,{root:!0})})),s.subscribe("entry_added",(function(t){e("parking/_addEntry",t,{root:!0})})),s.subscribe("entry_updated",(function(t){e("parking/_updateEntry",t,{root:!0})})),t(s)})).catch((function(t){console.error("Failed to connect to server",t),s(t)}))}))},_stopServer:function(t){var e=t.state;e.server.close()}},V={_setServer:function(t,e){t.server=e}},G={namespaced:!0,state:q,getters:W,actions:J,mutations:V},Q={modal:{show:!1,type:"success",subject:null,content:null}},K={},X={_showModal:function(t,e){var s=t.commit;console.log(e),e.show=!0,"type"in e||(e.type="success"),s("_setModal",e),setTimeout((function(){s("_setModal",{show:!1})}),3e3)},_closeModal:function(t){var e=t.commit;e("_setModal",{show:!1})}},Y={_setModal:function(t,e){t.modal=Object(r["a"])(Object(r["a"])({},t.modal),e)}},Z={namespaced:!0,state:Q,getters:K,actions:X,mutations:Y};a["a"].use(o["a"]);var tt=new o["a"].Store({modules:{auth:U,parking:H,modal:Z,events:G},state:{}}),et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"min-h-screen bg-gray-100"},[s("div",{staticClass:"bg-blue-600 pb-32"},[s("nav",{staticClass:"bg-blue-600 border-b border-blue-300 border-opacity-25 lg:border-none"},[s("div",{staticClass:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8"},[s("div",{staticClass:"relative h-16 flex items-center justify-between lg:border-b lg:border-blue-400 lg:border-opacity-25"},[s("div",{staticClass:"px-2 flex items-center lg:px-0"},[t._m(0),s("div",{staticClass:"hidden lg:block lg:ml-10"},[s("div",{staticClass:"flex space-x-4"},[s("router-link",{staticClass:"text-white hover:bg-blue-500 hover:bg-opacity-75 rounded-md py-2 px-3 text-sm font-medium",class:{"bg-blue-700":"home"===t.route},attrs:{to:"/"}},[t._v(" Reservations ")]),s("router-link",{staticClass:"text-white hover:bg-blue-500 hover:bg-opacity-75 rounded-md py-2 px-3 text-sm font-medium",class:{"bg-blue-700":"make-reservation"===t.route},attrs:{to:"/make-reservation"}},[t._v(" Make a reservation ")])],1)])]),s("div",{staticClass:"flex lg:hidden"},[s("button",{staticClass:"bg-blue-600 p-2 rounded-md inline-flex items-center justify-center text-blue-200 hover:text-white hover:bg-blue-500 hover:bg-opacity-75 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-blue-600 focus:ring-white",attrs:{"aria-expanded":"false"},on:{click:function(e){t.menu.mobile=!t.menu.mobile}}},[s("span",{staticClass:"sr-only"},[t._v("Open main menu")]),s("svg",{staticClass:"block h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"}})]),s("svg",{staticClass:"hidden h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])]),s("div",{staticClass:"hidden lg:block lg:ml-4"},[s("div",{staticClass:"flex items-center"},[s("div",{staticClass:"ml-3 relative flex-shrink-0"},[s("div",[s("button",{staticClass:"flex items-center bg-blue-600 rounded-full flex text-sm text-white focus:outline-none",on:{click:function(e){t.menu.profile=!t.menu.profile}}},[s("span",{staticClass:"sr-only"},[t._v("Open user menu")]),s("img",{staticClass:"rounded-full h-8 w-8",attrs:{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:""}}),s("div",{staticClass:"ml-3 text-left"},[s("div",{staticClass:"text-base font-medium text-white"},[t._v(t._s(t.user.name))])])])]),t.menu.profile?s("div",{staticClass:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5",attrs:{role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"}},[s("a",{staticClass:"block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100",attrs:{href:"#",role:"menuitem"},on:{click:function(e){return t.logout()}}},[t._v(" Sign out ")])]):t._e()])])])])]),s("div",{staticClass:"lg:hidden",class:{hidden:!t.menu.mobile,block:t.menu.mobile}},[s("div",{staticClass:"px-2 pt-2 pb-3 space-y-1"},[s("router-link",{staticClass:"text-white hover:bg-blue-500 hover:bg-opacity-75 block rounded-md py-2 px-3 text-base font-medium",class:{"bg-blue-700":"home"===t.route},attrs:{to:"/foo"}},[t._v(" Reservations ")]),s("router-link",{staticClass:"text-white hover:bg-blue-500 hover:bg-opacity-75 block rounded-md py-2 px-3 text-base font-medium",class:{"bg-blue-700":"create-reservation"===t.route},attrs:{to:"/foo"}},[t._v(" Make a reservation ")])],1),s("div",{staticClass:"pt-4 pb-3 border-t border-blue-700"},[s("div",{staticClass:"px-5 flex items-center"},[t._m(1),s("div",{staticClass:"ml-3"},[s("div",{staticClass:"text-base font-medium text-white"},[t._v(t._s(t.user.name))])])]),s("div",{staticClass:"mt-3 px-2 space-y-1"},[s("a",{staticClass:"block rounded-md py-2 px-3 text-base font-medium text-white hover:bg-blue-500 hover:bg-opacity-75",attrs:{href:"#"},on:{click:function(e){return t.logout()}}},[t._v(" Sign out ")])])])])]),s("header",{staticClass:"py-10"},[s("div",{staticClass:"flex justify-between max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},[s("h1",{staticClass:"text-3xl font-bold text-white"},[t._v(" "+t._s(t.title)+" ")]),t.showButton?s("router-link",{staticClass:"inline-flex items-center p-3 shadow-sm text-base font-medium rounded-md text-blue-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",attrs:{to:"/make-reservation"}},[s("plus-icon"),t._v(" Reservation ")],1):t._e()],1)])]),s("main",{staticClass:"-mt-32"},[s("router-view")],1)])},st=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex-shrink-0"},[s("h1",{staticClass:"text-xl font-bold text-white"},[t._v("Park")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex-shrink-0"},[s("img",{staticClass:"rounded-full h-10 w-10",attrs:{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:""}})])}],at=(s("b0c0"),s("ddc6")),nt={name:"Wrapper",components:{PlusIcon:at["d"]},data:function(){return{menu:{profile:!1,mobile:!1}}},computed:Object(r["a"])({title:function(){return this.$route.meta.title||this.$route.name},route:function(){return this.$route.name},showButton:function(){return!!this.$route.meta.showButton}},Object(o["d"])({user:function(t){return t.auth.user}})),methods:{logout:function(){}}},it=nt,rt=Object(d["a"])(it,et,st,!1,null,"7d1bb7f4",null),ot=rt.exports,lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"max-w-7xl mx-auto pb-12 px-4 sm:px-6 lg:px-8"},[s("div",{staticClass:"bg-white overflow-hidden shadow rounded-lg"},[s("div",{staticClass:"px-4 py-5 sm:p-6"},[s("div",{staticClass:"md:grid md:grid-cols-3 md:gap-6"},[t._m(0),s("div",{staticClass:"mt-5 md:mt-0 md:col-span-2"},[s("div",{staticClass:"space-y-6"},[s("div",[s("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"license-plate"}},[t._v("License Plate *")]),s("div",{staticClass:"mt-1"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newReservation.licensePlate,expression:"newReservation.licensePlate"}],staticClass:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",attrs:{type:"text",id:"license-plate",placeholder:"AA-00-BB"},domProps:{value:t.newReservation.licensePlate},on:{input:function(e){e.target.composing||t.$set(t.newReservation,"licensePlate",e.target.value)}}})])]),s("div",[s("label",{staticClass:"block text-sm font-medium text-gray-700"},[t._v(" Which spot do you want to reserve? ")]),s("fieldset",{staticClass:"mt-2"},[s("div",{staticClass:"bg-white rounded-md -space-y-px"},t._l(t.availableSpots,(function(e){return s("div",{key:e.id,staticClass:"relative border rounded-tl-md rounded-tr-md p-4 flex"},[s("div",{staticClass:"flex items-center h-5"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newReservation.spotId,expression:"newReservation.spotId"}],staticClass:"focus:ring-blue-500 h-4 w-4 text-blue-600 cursor-pointer border-gray-300",attrs:{id:"spot-option-"+e.id,name:"product-option",type:"radio"},domProps:{value:e.id,checked:t._q(t.newReservation.spotId,e.id)},on:{change:function(s){return t.$set(t.newReservation,"spotId",e.id)}}})]),s("label",{staticClass:"ml-3 flex flex-col cursor-pointer",attrs:{for:"spot-option-"+e.id}},[s("span",{staticClass:"block text-sm font-medium"},[t._v(" Spot "+t._s(e.id)+" at "+t._s(e.lotName)+" ")]),s("span",{staticClass:"block text-sm"},[t._v(" Rate "+t._s(t._f("perHour")(e.rate))+" per hour ")])])])})),0)])])])]),t._m(1),s("div",{staticClass:"mt-6 md:col-span-2"},[s("div",{staticClass:"border-t border-gray-200 px-4 py-5 sm:p-0"},[s("dl",{staticClass:"sm:divide-y sm:divide-gray-200"},[s("div",{staticClass:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},[s("dt",{staticClass:"text-sm font-medium text-gray-500"},[t._v(" License Plate ")]),s("dd",{staticClass:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},[t._v(" "+t._s(t.newReservation.licensePlate||"Not yet filled in")+" ")])]),s("div",{staticClass:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6"},[s("dt",{staticClass:"text-sm font-medium text-gray-500"},[t._v(" Spot ")]),s("dd",{staticClass:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2"},[t._v(" "+t._s(t.newReservation.spotId||"Not yet selected")+" ")])])])])])]),s("div",{staticClass:"pt-5 border-t"},[s("div",{staticClass:"flex justify-end"},[s("button",{staticClass:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",on:{click:function(e){return t.makeReservation()}}},[t._v(" Make reservation ")])])])])])])},ct=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"md:col-span-1"},[s("h3",{staticClass:"text-lg font-medium leading-6 text-gray-900"},[t._v("Make a reservation")]),s("p",{staticClass:"mt-1 text-sm text-gray-500"},[t._v(" Enter your license plate and select one of available spots to reserve them. ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"md:col-span-1 mt-6"},[s("h3",{staticClass:"text-lg font-medium leading-6 text-gray-900"},[t._v("Overview of reservation")]),s("p",{staticClass:"mt-1 text-sm text-gray-500"},[t._v(" Check your information before making the reservation. ")])])}],dt=s("c1df"),ut={name:"MakeReservation",components:{},data:function(){return{newReservation:{licensePlate:null,spotId:null},moment:dt}},computed:Object(r["a"])(Object(r["a"])({},Object(o["d"])({loadingSpots:function(t){return t.parking.loading.spots},user:function(t){return t.auth.user}})),Object(o["c"])("parking",["availableSpots"])),methods:Object(r["a"])(Object(r["a"])({},Object(o["b"])("parking",["_getParkingSpots","_makeReservation"])),{},{getLots:function(){this._getParkingSpots()},makeReservation:function(){var t=this;this._makeReservation(this.newReservation).then((function(){"ADMIN"===t.user.role?t.$router.push({name:"admin-home"}):t.$router.push({name:"home"})}))}}),mounted:function(){this.getLots()},filters:{perHour:function(t){var e=new Intl.NumberFormat("nl-NL",{style:"currency",currency:"EUR",minimumFractionDigits:2});return e.format(60*t/100)}}},mt=ut,ft=(s("2681"),Object(d["a"])(mt,lt,ct,!1,null,null,null)),pt=ft.exports,gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"min-h-screen bg-gray-100"},[s("div",{staticClass:"bg-blue-600 pb-32"},[s("nav",{staticClass:"bg-blue-600 border-b border-blue-300 border-opacity-25 lg:border-none"},[s("div",{staticClass:"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8"},[s("div",{staticClass:"relative h-16 flex items-center justify-between lg:border-b lg:border-blue-400 lg:border-opacity-25"},[s("div",{staticClass:"px-2 flex items-center lg:px-0"},[t._m(0),s("div",{staticClass:"hidden lg:block lg:ml-10"},[s("div",{staticClass:"flex space-x-4"},[s("router-link",{staticClass:"text-white hover:bg-blue-500 hover:bg-opacity-75 rounded-md py-2 px-3 text-sm font-medium",class:{"bg-blue-700":"admin-home"===t.route},attrs:{to:"/admin"}},[t._v(" Overview ")]),s("router-link",{staticClass:"text-white hover:bg-blue-500 hover:bg-opacity-75 rounded-md py-2 px-3 text-sm font-medium",class:{"bg-blue-700":"entries"===t.route},attrs:{to:"/admin/entries"}},[t._v(" Entries ")]),s("router-link",{staticClass:"text-white hover:bg-blue-500 hover:bg-opacity-75 rounded-md py-2 px-3 text-sm font-medium",class:{"bg-blue-700":"make-reservation"===t.route},attrs:{to:"/make-reservation"}},[t._v(" Make a reservation ")])],1)])]),s("div",{staticClass:"flex lg:hidden"},[s("button",{staticClass:"bg-blue-600 p-2 rounded-md inline-flex items-center justify-center text-blue-200 hover:text-white hover:bg-blue-500 hover:bg-opacity-75 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-blue-600 focus:ring-white",attrs:{"aria-expanded":"false"},on:{click:function(e){t.menu.mobile=!t.menu.mobile}}},[s("span",{staticClass:"sr-only"},[t._v("Open main menu")]),s("svg",{staticClass:"block h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"}})]),s("svg",{staticClass:"hidden h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])]),s("div",{staticClass:"hidden lg:block lg:ml-4"},[s("div",{staticClass:"flex items-center"},[s("div",{staticClass:"ml-3 relative flex-shrink-0"},[s("div",[s("button",{staticClass:"flex items-center bg-blue-600 rounded-full flex text-sm text-white focus:outline-none",on:{click:function(e){t.menu.profile=!t.menu.profile}}},[s("span",{staticClass:"sr-only"},[t._v("Open user menu")]),s("img",{staticClass:"rounded-full h-8 w-8",attrs:{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:""}}),s("div",{staticClass:"ml-3 text-left"},[s("div",{staticClass:"text-base font-medium text-white"},[t._v(t._s(t.user.name))])])])]),t.menu.profile?s("div",{staticClass:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5",attrs:{role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu"}},[s("a",{staticClass:"block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100",attrs:{href:"#",role:"menuitem"},on:{click:function(e){return t.logout()}}},[t._v(" Sign out ")])]):t._e()])])])])]),s("div",{staticClass:"lg:hidden",class:{hidden:!t.menu.mobile,block:t.menu.mobile}},[s("div",{staticClass:"px-2 pt-2 pb-3 space-y-1"},[s("router-link",{staticClass:"text-white hover:bg-blue-500 hover:bg-opacity-75 block rounded-md py-2 px-3 text-base font-medium",class:{"bg-blue-700":"home"===t.route},attrs:{to:"/admin"}},[t._v(" Overview ")]),s("router-link",{staticClass:"text-white hover:bg-blue-500 hover:bg-opacity-75 block rounded-md py-2 px-3 text-base font-medium",class:{"bg-blue-700":"entries"===t.route},attrs:{to:"/admin/entries"}},[t._v(" Entries ")]),s("router-link",{staticClass:"text-white hover:bg-blue-500 hover:bg-opacity-75 block rounded-md py-2 px-3 text-base font-medium",class:{"bg-blue-700":"create-reservation"===t.route},attrs:{to:"/make-reservation"}},[t._v(" Make a reservation ")])],1),s("div",{staticClass:"pt-4 pb-3 border-t border-blue-700"},[s("div",{staticClass:"px-5 flex items-center"},[t._m(1),s("div",{staticClass:"ml-3"},[s("div",{staticClass:"text-base font-medium text-white"},[t._v(t._s(t.user.name))])])]),s("div",{staticClass:"mt-3 px-2 space-y-1"},[s("a",{staticClass:"block rounded-md py-2 px-3 text-base font-medium text-white hover:bg-blue-500 hover:bg-opacity-75",attrs:{href:"#"},on:{click:function(e){return t.logout()}}},[t._v(" Sign out ")])])])])]),s("header",{staticClass:"py-10"},[s("div",{staticClass:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},[s("h1",{staticClass:"text-3xl font-bold text-white"},[t._v(" "+t._s(t.title)+" ")])])])]),s("main",{staticClass:"-mt-32"},[s("router-view")],1)])},vt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex-shrink-0"},[s("h1",{staticClass:"text-xl font-bold text-white"},[t._v("Park")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex-shrink-0"},[s("img",{staticClass:"rounded-full h-10 w-10",attrs:{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:""}})])}],bt={name:"AdminWrapper",data:function(){return{menu:{profile:!1,mobile:!1}}},computed:Object(r["a"])({title:function(){return this.$route.meta.title||this.$route.name},route:function(){return this.$route.name}},Object(o["d"])({user:function(t){return t.auth.user}})),methods:{logout:function(){}}},ht=bt,xt=Object(d["a"])(ht,gt,vt,!1,null,"4971210b",null),_t=xt.exports,wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"max-w-7xl mx-auto pb-12 px-4 sm:px-6 lg:px-8"},[s("div",{staticClass:"bg-white shadow overflow-hidden sm:rounded-md"},[s("ul",{staticClass:"divide-y divide-gray-200"},[t._l(t.reservations,(function(e){return s("li",{key:e.id},[s("div",{staticClass:"block hover:bg-gray-50"},[s("div",{staticClass:"flex items-center px-4 py-4 sm:px-6"},[s("div",{staticClass:"min-w-0 flex-1 flex items-center"},[s("div",{staticClass:"flex-shrink-0"},[s("div",{staticClass:"h-12 w-12 rounded-full flex justify-center items-center",class:{"bg-blue-600":"PENDING"===e.status,"bg-yellow-500":"ACTIVE"===e.status,"bg-green-400":"DONE"===e.status}},[s("calendar-icon",{staticClass:"text-white"})],1)]),s("div",{staticClass:"min-w-0 flex-1 px-4 md:grid md:grid-cols-2 md:gap-4"},[s("div",[s("p",{staticClass:"text-sm font-medium text-blue-600 truncate"},[t._v("Reservation id: "+t._s(e.id))]),s("p",{staticClass:"mt-2 flex items-center text-sm text-gray-500"},[s("span",{staticClass:"truncate mr-2"},[t._v("Plate")]),s("span",{staticClass:"flex-shrink-0 inline-block px-2 py-0.5 text-green-800 text-xs font-medium bg-green-100 rounded-full"},[t._v(t._s(e.licensePlate))])])]),s("div",{staticClass:"md:block"},[s("div",[s("p",{staticClass:"text-sm text-gray-900"},[t._v(" Parking Spot "),s("b",[t._v(t._s(e.spotId))])]),s("p",{staticClass:"mt-2 text-xs text-gray-500 leading-5"},[t._v(" Made reservation "),s("strong",[t._v(t._s(t.moment(e.createdAt).fromNow()))])])])])])]),s("div",[s("button",{staticClass:"text-red-400",on:{click:function(s){return t.deleteReservation(e)}}},[s("trash-icon")],1)])])])])})),t.loadingReservations?s("li",[t._m(0)]):0===t.reservations.length?s("li",[t._m(1)]):t._e()],2)]),t._m(2),s("ul",{staticClass:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3"},t._l(t.spots,(function(e){return s("li",{key:e.id,staticClass:"col-span-1 bg-white rounded-lg shadow divide-y divide-gray-200"},[s("div",{staticClass:"w-full flex items-center justify-between p-6 space-x-6"},[s("div",{staticClass:"flex-1 truncate"},[s("div",{staticClass:"flex items-center space-x-3"},[s("h3",{staticClass:"text-gray-900 text-sm font-medium truncate"},[t._v("Spot "+t._s(e.id)+" at "+t._s(e.lotName))]),s("span",{staticClass:"flex-shrink-0 inline-block px-2 py-0.5 text-xs font-medium rounded-full",class:{"bg-red-100 text-red-800":"Occupied"===e.state,"bg-yellow-100 text-yellow-800":"Reserved"===e.state,"bg-green-100 text-green-800":"Free"===e.state}},[t._v(t._s(e.state))])]),"Occupied"===e.state?s("p",{staticClass:"mt-1 text-gray-500 text-sm truncate"},[t._v("Occupied by "+t._s(e.licensePlate))]):t._e(),"Reserved"===e.state?s("p",{staticClass:"mt-1 text-gray-500 text-sm truncate"},[t._v("Reserved by "+t._s(e.licensePlate))]):t._e(),s("p",{staticClass:"mt-1 text-gray-500 text-sm truncate"},[t._v("Rate "+t._s(t._f("perHour")(e.rate))+" per hour")])]),s("div",{staticClass:"w-10 h-10 border border-gray-300 rounded-full flex-shrink-0 flex justify-center items-center"},[s("location-marker-icon",{staticClass:"text-blue-700"})],1)]),s("div",["Free"===e.state?s("div",{staticClass:"-mt-px flex divide-x divide-gray-200"},[s("div",{staticClass:"w-0 flex-1 flex"},[s("button",{staticClass:"relative -mr-px w-0 flex-1 inline-flex items-center justify-center py-4 text-sm text-gray-700 font-medium border border-transparent rounded-bl-lg hover:text-gray-500",on:{click:function(s){t.updatingSpot=e}}},[s("pencil-icon"),s("span",{staticClass:"ml-3"},[t._v("Change rate")])],1)]),s("div",{staticClass:"w-0 flex-1 flex"},[s("router-link",{staticClass:"relative w-0 flex-1 inline-flex items-center justify-center py-4 text-sm text-gray-700 font-medium border border-transparent rounded-br-lg hover:text-gray-500",attrs:{to:"/make-reservation",href:"#"}},[s("calendar-icon"),s("span",{staticClass:"ml-3"},[t._v("Make reservation")])],1)],1)]):t._e()])])})),0),t.updatingSpot?s("div",{staticClass:"fixed z-10 inset-0 overflow-y-auto"},[s("div",{staticClass:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},[t._m(3),s("span",{staticClass:"hidden sm:inline-block sm:align-middle sm:h-screen",attrs:{"aria-hidden":"true"}},[t._v("​")]),s("div",{staticClass:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",attrs:{role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"}},[s("div",[s("div",{staticClass:"mt-3 text-center sm:mt-5"},[s("h3",{staticClass:"text-lg leading-6 font-medium text-gray-900",attrs:{id:"modal-headline"}},[t._v(" Update rate of spot "+t._s(t.updatingSpot.id)+" ")]),s("div",{staticClass:"mt-2 text-left"},[s("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"price"}},[t._v("Price")]),s("div",{staticClass:"mt-1 relative rounded-md shadow-sm"},[t._m(4),s("input",{directives:[{name:"model",rawName:"v-model",value:t.updatingSpot.rate,expression:"updatingSpot.rate"}],staticClass:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md",attrs:{type:"number",id:"price",placeholder:"0.00"},domProps:{value:t.updatingSpot.rate},on:{input:function(e){e.target.composing||t.$set(t.updatingSpot,"rate",e.target.value)}}}),t._m(5)])])])]),s("div",{staticClass:"mt-5 sm:mt-6 sm:grid sm:grid-cols-2 sm:gap-3 sm:grid-flow-row-dense"},[s("button",{staticClass:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:col-start-2 sm:text-sm",attrs:{type:"button"},on:{click:function(e){return t.updateRate(t.updatingSpot)}}},[t._v(" Change ")]),s("button",{staticClass:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:col-start-1 sm:text-sm",attrs:{type:"button"},on:{click:function(e){t.updatingSpot=null}}},[t._v(" Cancel ")])])])])]):t._e()])},yt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"block"},[s("div",{staticClass:"flex animate-pulse  items-center px-4 py-4 sm:px-6"},[s("div",{staticClass:"min-w-0 flex-1 flex items-center"},[s("div",{staticClass:"flex-shrink-0"},[s("div",{staticClass:"h-12 w-12 rounded-full flex justify-center items-center bg-gray-200"})]),s("div",{staticClass:"min-w-0 flex-1 px-4 md:grid md:grid-cols-2 md:gap-4"},[s("div",[s("p",{staticClass:"h-4 bg-blue-400 rounded w-1/2"}),s("div",{staticClass:"h-4 bg-gray-200 rounded w-1/4 mt-2"})]),s("div",{staticClass:"md:block"},[s("div",[s("div",{staticClass:"h-4 bg-gray-200 rounded w-5/6"}),s("div",{staticClass:"h-4 bg-gray-200 rounded w-4/6 mt-2"})])])])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"block hover:bg-gray-50"},[s("div",{staticClass:"flex items-center px-4 py-4 sm:px-6"},[s("div",{staticClass:"min-w-0 flex-1 flex items-center"},[s("div",{staticClass:"flex-shrink-0"},[s("div",{staticClass:"h-12 w-12 rounded-full flex justify-center items-center bg-gray-100"})]),s("div",{staticClass:"min-w-0 flex-1 px-4 md:grid md:grid-cols-2 md:gap-4"},[s("div",[s("p",{staticClass:"text-sm font-medium text-blue-600 truncate"},[t._v("No reservations found")]),s("p",{staticClass:"mt-2 flex items-center text-sm text-gray-400"},[t._v(" First make a reservation. ")])])])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"py-10 pt-20"},[s("div",{staticClass:"mx-auto"},[s("h1",{staticClass:"text-3xl font-bold text-blue-700"},[t._v(" Parking lots ")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fixed inset-0 transition-opacity",attrs:{"aria-hidden":"true"}},[s("div",{staticClass:"absolute inset-0 bg-gray-500 opacity-75"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[s("span",{staticClass:"text-gray-500 sm:text-sm"},[t._v(" € ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[s("span",{staticClass:"text-gray-500 sm:text-sm",attrs:{id:"price-currency"}},[t._v(" CENTS PER HOUR ")])])}],Ct={name:"AdminHome",components:{CalendarIcon:at["a"],LocationMarkerIcon:at["b"],TrashIcon:at["e"],PencilIcon:at["c"]},data:function(){return{moment:dt,updatingSpot:null}},computed:Object(r["a"])({},Object(o["d"])({loadingReservations:function(t){return t.parking.loading.reservations},reservations:function(t){return t.parking.reservations},loadingSpots:function(t){return t.parking.loading.spots},spots:function(t){return t.parking.spots}})),methods:Object(r["a"])(Object(r["a"])({},Object(o["b"])("parking",["_getReservations","_getParkingSpots","_deleteReservation","_updateRate"])),{},{deleteReservation:function(t){this._deleteReservation(t)},updateRate:function(t){this.updatingSpot=null,this._updateRate(t)}}),mounted:function(){this._getParkingSpots(),this._getReservations()},filters:{perHour:function(t){var e=new Intl.NumberFormat("nl-NL",{style:"currency",currency:"EUR",minimumFractionDigits:2});return e.format(60*t/100)}}},kt=Ct,jt=Object(d["a"])(kt,wt,yt,!1,null,"10a7874a",null),Ot=jt.exports,Rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"max-w-7xl mx-auto pb-12 px-4 sm:px-6 lg:px-8"},[s("div",{staticClass:"bg-white shadow overflow-hidden sm:rounded-md"},[s("ul",{staticClass:"divide-y divide-gray-200"},[t._l(t.reservations,(function(e){return s("li",{key:e.id},[s("div",{staticClass:"block hover:bg-gray-50"},[s("div",{staticClass:"flex items-center px-4 py-4 sm:px-6"},[s("div",{staticClass:"min-w-0 flex-1 flex items-center"},[s("div",{staticClass:"flex-shrink-0"},[s("div",{staticClass:"h-12 w-12 rounded-full flex justify-center items-center",class:{"bg-blue-600":"PENDING"===e.status,"bg-yellow-500":"ACTIVE"===e.status,"bg-green-400":"DONE"===e.status}},[s("calendar-icon",{staticClass:"text-white"})],1)]),s("div",{staticClass:"min-w-0 flex-1 px-4 md:grid md:grid-cols-2 md:gap-4"},[s("div",[s("p",{staticClass:"text-sm font-medium text-blue-600 truncate"},[t._v("Reservation id: "+t._s(e.id))]),s("p",{staticClass:"mt-2 flex items-center text-sm text-gray-500"},[s("span",{staticClass:"truncate mr-2"},[t._v("Plate")]),s("span",{staticClass:"flex-shrink-0 inline-block px-2 py-0.5 text-green-800 text-xs font-medium bg-green-100 rounded-full"},[t._v(t._s(e.licensePlate))])])]),s("div",{staticClass:"md:block"},[s("div",[s("p",{staticClass:"text-sm text-gray-900"},[t._v(" Parking Spot "),s("b",[t._v(t._s(e.spotId))])]),s("p",{staticClass:"mt-2 text-xs text-gray-500 leading-5"},[t._v(" Made reservation "),s("strong",[t._v(t._s(t.moment(e.createdAt).fromNow()))])])])])])]),s("div",[s("button",{staticClass:"text-red-400",on:{click:function(s){return t.deleteReservation(e)}}},[s("trash-icon")],1)])])])])})),t.loadingReservations?s("li",[t._m(0)]):0===t.reservations.length?s("li",[t._m(1)]):t._e()],2)])])},Et=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"block"},[s("div",{staticClass:"flex animate-pulse  items-center px-4 py-4 sm:px-6"},[s("div",{staticClass:"min-w-0 flex-1 flex items-center"},[s("div",{staticClass:"flex-shrink-0"},[s("div",{staticClass:"h-12 w-12 rounded-full flex justify-center items-center bg-gray-200"})]),s("div",{staticClass:"min-w-0 flex-1 px-4 md:grid md:grid-cols-2 md:gap-4"},[s("div",[s("p",{staticClass:"h-4 bg-blue-400 rounded w-1/2"}),s("div",{staticClass:"h-4 bg-gray-200 rounded w-1/4 mt-2"})]),s("div",{staticClass:"md:block"},[s("div",[s("div",{staticClass:"h-4 bg-gray-200 rounded w-5/6"}),s("div",{staticClass:"h-4 bg-gray-200 rounded w-4/6 mt-2"})])])])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"block hover:bg-gray-50"},[s("div",{staticClass:"flex items-center px-4 py-4 sm:px-6"},[s("div",{staticClass:"min-w-0 flex-1 flex items-center"},[s("div",{staticClass:"flex-shrink-0"},[s("div",{staticClass:"h-12 w-12 rounded-full flex justify-center items-center bg-gray-100"})]),s("div",{staticClass:"min-w-0 flex-1 px-4 md:grid md:grid-cols-2 md:gap-4"},[s("div",[s("p",{staticClass:"text-sm font-medium text-blue-600 truncate"},[t._v("No reservations found")]),s("p",{staticClass:"mt-2 flex items-center text-sm text-gray-400"},[t._v(" First make a reservation. ")])])])])])])}],Pt={name:"Reservations",components:{CalendarIcon:at["a"],TrashIcon:at["e"]},data:function(){return{moment:dt}},computed:Object(r["a"])({},Object(o["d"])({loadingReservations:function(t){return t.parking.loading.reservations},reservations:function(t){return t.parking.reservations}})),methods:Object(r["a"])(Object(r["a"])({},Object(o["b"])("parking",["_getReservations","_deleteReservation"])),{},{getReservations:function(){this._getReservations()},deleteReservation:function(t){this._deleteReservation(t)}}),mounted:function(){this.getReservations()}},St=Pt,Mt=(s("62c5"),Object(d["a"])(St,Rt,Et,!1,null,null,null)),$t=Mt.exports,It=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("div",{staticClass:"flex justify-center items-center min-h-screen p-4 text-center bg-gray-100"},[s("div",{staticClass:"bg-blue-500 h-2/5 w-full fixed top-0"}),s("div",{staticClass:"inline-block bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm sm:w-full sm:p-6",attrs:{role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"}},[s("form",{on:{submit:function(e){return t.login(t.cred)}}},[t._m(0),s("label",{staticClass:"block text-gray-600 text-uppercase text-sm font-bold mb-2",attrs:{for:"username"}},[t._v(" Username ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.cred.username,expression:"cred.username"}],staticClass:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-4 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500 mb-4",attrs:{type:"text",id:"username",placeholder:"Username"},domProps:{value:t.cred.username},on:{input:function(e){e.target.composing||t.$set(t.cred,"username",e.target.value)}}}),s("label",{staticClass:"block text-gray-600 text-uppercase text-sm font-bold mb-2",attrs:{for:"name"}},[t._v(" Name ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.cred.name,expression:"cred.name"}],staticClass:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-4 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500 mb-4",attrs:{type:"text",id:"name",placeholder:"Name"},domProps:{value:t.cred.name},on:{input:function(e){e.target.composing||t.$set(t.cred,"name",e.target.value)}}}),s("label",{staticClass:"block text-gray-600 text-uppercase text-sm font-bold mb-2",attrs:{for:"password"}},[t._v(" Password ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.cred.password,expression:"cred.password"}],staticClass:"bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-4 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500 mb-4",attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:t.cred.password},on:{input:function(e){e.target.composing||t.$set(t.cred,"password",e.target.value)}}}),s("btn",{staticClass:"w-full",attrs:{disabled:t.loading},nativeOn:{click:function(e){return t.register(t.cred)}}},[t._v("Register")])],1)])])])},Lt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",{staticClass:"text-xl font-black font-gray-700 mb-10 mt-2 text-center"},[t._v("Sign in to "),s("span",{staticClass:"text-blue-600"},[t._v("Park")])])}],Nt={name:"Register",components:{Btn:w},props:[],data:function(){return{cred:{username:"",password:""},loading:!1}},methods:Object(r["a"])(Object(r["a"])({},Object(o["b"])("auth",["_register"])),{},{register:function(t){var e=this;this.loading=!0,this._register(t).then((function(){e.loading=!1,e.$router.push("/")})).catch((function(){e.loading=!1}))}})},zt=Nt,At=Object(d["a"])(zt,It,Lt,!1,null,"16325041",null),Ut=At.exports,Bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"max-w-7xl mx-auto pb-12 px-4 sm:px-6 lg:px-8"},[s("div",{staticClass:"bg-white shadow overflow-hidden sm:rounded-md"},[s("table",{staticClass:"min-w-full divide-y divide-gray-200"},[t._m(0),s("tbody",t._l(t.entries,(function(e){return s("tr",{key:e.id,staticClass:"bg-white"},[s("td",{staticClass:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},[t._v(" "+t._s(e.spotId)+" ")]),s("td",{staticClass:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},[s("span",{staticClass:"flex-shrink-0 inline-block px-2 py-0.5 text-green-800 text-xs font-medium bg-green-100 rounded-full"},[t._v(t._s(e.licensePlate))])]),s("td",{staticClass:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},[t._v(" "+t._s(t.moment(e.enterTime).fromNow())+" ")]),null!==e.leaveTime?s("td",{staticClass:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},[t._v(" "+t._s(t.moment.utc(t.moment(e.leaveTime).diff(e.enterTime)).format("HH:mm"))+" ")]):s("td",{staticClass:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},[t._v(" Still in parking lot ")]),s("td",{staticClass:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},[t._v(" "+t._s(t._f("price")(e.cost))+" ")])])})),0)])])])},Dt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",{staticClass:"bg-gray-50"},[s("tr",[s("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",attrs:{scope:"col"}},[t._v(" Spot Id ")]),s("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",attrs:{scope:"col"}},[t._v(" License plate ")]),s("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",attrs:{scope:"col"}},[t._v(" Arrival time ")]),s("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",attrs:{scope:"col"}},[t._v(" Duration ")]),s("th",{staticClass:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",attrs:{scope:"col"}},[t._v(" Cost ")])])])}],Tt={name:"Entries",components:{},data:function(){return{moment:dt}},computed:Object(r["a"])({},Object(o["d"])({loadingEntries:function(t){return t.parking.loading.entries},entries:function(t){return t.parking.entries}})),methods:Object(r["a"])({},Object(o["b"])("parking",["_getEntries"])),mounted:function(){this._getEntries()},filters:{price:function(t){null==t&&(t=0);var e=new Intl.NumberFormat("nl-NL",{style:"currency",currency:"EUR",minimumFractionDigits:2});return e.format(t)}}},Ft=Tt,Ht=Object(d["a"])(Ft,Bt,Dt,!1,null,null,null),qt=Ht.exports;a["a"].use(f["a"]);var Wt=[{path:"/login",name:"login",component:j},{path:"/register",name:"register",component:Ut},{path:"",meta:{requiresAuth:!0},component:ot,children:[{path:"",name:"home",component:$t,meta:{title:"Reservations",showButton:!0}},{path:"make-reservation",name:"make-reservation",component:pt,meta:{title:"Make a reservation"}}]},{path:"/admin",meta:{requiresAuth:!0,admin:!0},component:_t,children:[{path:"",name:"admin-home",component:Ot,meta:{title:"All Reservations"}},{path:"entries",name:"entries",component:qt,meta:{title:"All Entries"}},{path:"make-reservation",name:"admin-make-reservation",component:pt,meta:{title:"Make a reservation"}}]},{path:"*",redirect:""}],Jt=new f["a"]({mode:"history",base:"/",routes:Wt});Jt.beforeEach((function(t,e,s){t.matched.some((function(t){return t.meta.requiresAuth}))?tt.dispatch("auth/_loggedIn").then((function(){t.matched.some((function(t){return t.meta.admin}))?"ADMIN"===tt.state.auth.user.role?s():s({path:"/"}):s()})).catch((function(){s({path:"/login"})})):s()}));var Vt=Jt,Gt=s("37b6");s("907d");a["a"].config.productionTip=!1,a["a"].use(Gt["a"]),new a["a"]({router:Vt,store:tt,render:function(t){return t(m)}}).$mount("#app")},6:function(t,e){},"62c5":function(t,e,s){"use strict";s("a07b")},7:function(t,e){},8:function(t,e){},9:function(t,e){},"907d":function(t,e,s){},a07b:function(t,e,s){},c236:function(t,e,s){}});
//# sourceMappingURL=app.eb3227a3.js.map